<?php

declare(strict_types=1);

namespace DoctrineMigrations;

use Doctrine\DBAL\Schema\Schema;
use Doctrine\Migrations\AbstractMigration;

/**
 * Auto-generated Migration: Please modify to your needs!
 */
final class Version20240701161251 extends AbstractMigration
{
    public function getDescription(): string
    {
        return '';
    }

    public function up(Schema $schema): void
    {
        // this up() migration is auto-generated, please modify it to your needs
        $this->addSql('CREATE TABLE bouteille_personnalisee (id BIGINT AUTO_INCREMENT NOT NULL, user_id BIGINT NOT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, nom VARCHAR(255) NOT NULL, pays VARCHAR(255) NOT NULL, region VARCHAR(255) NOT NULL, couleur VARCHAR(255) NOT NULL, format VARCHAR(255) NOT NULL, prix NUMERIC(8, 2) NOT NULL, producteur VARCHAR(255) NOT NULL, millesime SMALLINT NOT NULL, cepage VARCHAR(255) NOT NULL, taux_sucre VARCHAR(255) NOT NULL, degre VARCHAR(255) NOT NULL, type VARCHAR(255) NOT NULL, INDEX IDX_96437F9FA76ED395 (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('ALTER TABLE bouteille_personnalisee ADD CONSTRAINT FK_96437F9FA76ED395 FOREIGN KEY (user_id) REFERENCES user (id)');
        $this->addSql('ALTER TABLE bouteille CHANGE degre degre VARCHAR(255) DEFAULT NULL, CHANGE taux_sucre taux_sucre VARCHAR(255) DEFAULT NULL, CHANGE couleur couleur VARCHAR(255) DEFAULT NULL, CHANGE producteur producteur VARCHAR(255) DEFAULT NULL, CHANGE agent_promotion agent_promotion VARCHAR(255) DEFAULT NULL, CHANGE type type VARCHAR(255) DEFAULT NULL, CHANGE millesime millesime VARCHAR(255) DEFAULT NULL, CHANGE cepage cepage VARCHAR(255) DEFAULT NULL, CHANGE region region VARCHAR(255) DEFAULT NULL, CHANGE produit_quebec produit_quebec VARCHAR(255) DEFAULT NULL, CHANGE pastille_gout_titre pastille_gout_titre VARCHAR(255) DEFAULT NULL, CHANGE pastille_image_src pastille_image_src VARCHAR(512) DEFAULT NULL, CHANGE created_at created_at DATETIME DEFAULT NULL, CHANGE updated_at updated_at DATETIME DEFAULT NULL');
        $this->addSql('ALTER TABLE bouteille_liste CHANGE created_at created_at DATETIME DEFAULT NULL, CHANGE updated_at updated_at DATETIME DEFAULT NULL');
        $this->addSql('ALTER TABLE cellier CHANGE created_at created_at DATETIME DEFAULT NULL, CHANGE updated_at updated_at DATETIME DEFAULT NULL');
        $this->addSql('ALTER TABLE liste CHANGE created_at created_at DATETIME DEFAULT NULL, CHANGE updated_at updated_at DATETIME DEFAULT NULL');
        $this->addSql('ALTER TABLE user CHANGE roles roles JSON NOT NULL, CHANGE created_at created_at DATETIME DEFAULT NULL, CHANGE updated_at updated_at DATETIME DEFAULT NULL, CHANGE reset_token reset_token VARCHAR(255) DEFAULT NULL');
    }

    public function down(Schema $schema): void
    {
        // this down() migration is auto-generated, please modify it to your needs
        $this->addSql('ALTER TABLE bouteille_personnalisee DROP FOREIGN KEY FK_96437F9FA76ED395');
        $this->addSql('DROP TABLE bouteille_personnalisee');
        $this->addSql('ALTER TABLE bouteille CHANGE degre degre VARCHAR(255) DEFAULT \'NULL\', CHANGE taux_sucre taux_sucre VARCHAR(255) DEFAULT \'NULL\', CHANGE couleur couleur VARCHAR(255) DEFAULT \'NULL\', CHANGE producteur producteur VARCHAR(255) DEFAULT \'NULL\', CHANGE agent_promotion agent_promotion VARCHAR(255) DEFAULT \'NULL\', CHANGE type type VARCHAR(255) DEFAULT \'NULL\', CHANGE millesime millesime VARCHAR(255) DEFAULT \'NULL\', CHANGE cepage cepage VARCHAR(255) DEFAULT \'NULL\', CHANGE region region VARCHAR(255) DEFAULT \'NULL\', CHANGE produit_quebec produit_quebec VARCHAR(255) DEFAULT \'NULL\', CHANGE pastille_gout_titre pastille_gout_titre VARCHAR(255) DEFAULT \'NULL\', CHANGE pastille_image_src pastille_image_src VARCHAR(512) DEFAULT \'NULL\', CHANGE created_at created_at DATETIME DEFAULT \'NULL\', CHANGE updated_at updated_at DATETIME DEFAULT \'NULL\'');
        $this->addSql('ALTER TABLE bouteille_liste CHANGE created_at created_at DATETIME DEFAULT \'NULL\', CHANGE updated_at updated_at DATETIME DEFAULT \'NULL\'');
        $this->addSql('ALTER TABLE cellier CHANGE created_at created_at DATETIME DEFAULT \'NULL\', CHANGE updated_at updated_at DATETIME DEFAULT \'NULL\'');
        $this->addSql('ALTER TABLE liste CHANGE created_at created_at DATETIME DEFAULT \'NULL\', CHANGE updated_at updated_at DATETIME DEFAULT \'NULL\'');
        $this->addSql('ALTER TABLE user CHANGE roles roles LONGTEXT NOT NULL COLLATE `utf8mb4_bin`, CHANGE created_at created_at DATETIME DEFAULT \'NULL\', CHANGE updated_at updated_at DATETIME DEFAULT \'NULL\', CHANGE reset_token reset_token VARCHAR(255) DEFAULT \'NULL\'');
    }
}
